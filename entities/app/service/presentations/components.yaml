entities:
  seaf.app.services:
    presentations:
      blank:
        widgets:
          components:
            title: Состоит из компонент
            presentation: components
            align: "<"
            order: 20
            style:
              margin: 4px
              border: true
      components:
        title: Компоненты прикладного сервиса
        type: markdown
        template: templates/summary_components.md
        params:
          type: object
          properties:
            seaf-app-service-id:
              title: Идентификатор прикладного сервиса
              type: string
          required:
            - seaf-app-service-id
        origin: seaf.app.services.full
        source: >
          (
              $service_id := $params."seaf-app-service-id";
              $ctx := $;
              $lookup($ctx."seaf.app.services", $service_id).(
                  $data := [$.components.$spread().({
                      "content": $.*.title,
                      "link": "(/entities/components/blank?dh-component-id=" & $.$keys() & ")"
                  })];
                  {
                    "title": "Компоненты",
                    "data" : $data
                  }
              );
          )